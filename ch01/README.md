# 第 1 章 开始

### 环境

macOS big sur（Apple M1，16GB 内存）

已安装 Xcode，Apple Clang Version 12.0.0

（嗯就先不用IDE）

### 编译运行

- 用命令行编译：
```zsh
$ clang++ -std=c++1y -Wall prog1.cc -o prog1 
```
`-o`选项是设置可执行程序的别名，这里是把源程序`prog1.cc`生成的可执行文件命名为`prog1`，如不设置默认是`a.out`。
`-Wall`选项是显示所有的`warning`，可以帮助更加规范编程。

- 执行：
```zsh
$ ./prog1
```

- 获得返回值：
```zsh
$ echo $?
```
返回值是 `0`，表示正常退出；其他值都表示程序异常结束，常见的是`-1`。

### 输入输出

#### 标准输入输出

来自`iostream`库的基础类型：输入流`istream`和输出流`ostream`。

标准库定义了 4 个 IO 对象：
1. `cin`：**标准输入**，`istream`类型的对象；
2. `cout`：**标准输出**，`ostream`类型的对象；
3. `cerr`：标准错误，`ostream`类型的对象；
4. `clog`：输出运行时一般信息，`ostream`类型的对象。

#### 头文件

**头文件**（header）使用时：

1. `#include`和头文件的名字必须写在同一行；
2. 通常情况，`#include`出现在函数之外；
3. 一般，把一个程序所有的`#include`放在源文件的开始。

#### 写入和读取

- `<<`：**输出运算符**
    接收两个对象，左侧对象必须是一个`ostream`对象，右侧对象是要打印的值。
    计算结果是左侧对象。
- `endl`：**操纵符**（manipulator）
    结束当前行，并将与设备关联的缓冲区中的内容刷到设备中。
    缓冲刷新操作可以保证，目前为止程序所产生的所有输出都真正写入输出流中，而不是停留在内存中等待写入流。
- `::`：**作用域运算符**
    指出命名空间，例如`std::cout`，使用名为`std`的命名空间中的名字`cout`。
- `>>`：**输入运算符**
    与输出运算符类似，左侧对象为`istream`对象，右侧对象保存左侧读入的数据。
    计算结果是左侧对象。

### 注释

- 单行注释
```cpp
// 单行注释
```

- 多行注释
```cpp
/*
 * 界定符注释
 */
```
要注意的是，界定符注释不能嵌套，因为有就近原则，外层的`/*`会和内层的`*/`匹配，导致意外的错误。

### 控制流

####  while

语法如下：
```cpp
while (condition) {
    statement
}
```

执行顺序：
1. 判断循环条件，为真，则进入2；为假，跳出循环。
2. 执行循环体，结束后进入1。

#### for

语法如下：
```cpp
// 依次是：循环变量初始化；循环条件；表达式。
for (int it = 0; it < 10; it++) {
    statement
}
```

执行顺序：
1. 执行初始化语句（没有初始化就跳过这一步）；
2. 判断循环条件，为真，进入 3；为假，跳出循环。
3. 执行循环体内的语句，进入4；
4. 执行表达式，进入2。

可见，初始化语句只在开始进入循环的时候执行一次，且唯一一次。

### 文件结束符

- Windows 系统：`Ctrl`+`Z` ，然后按 `Enter`
- UNIX 系统（包括 Mac OS X）：`Ctrl` + `D`

### 编译错误

- 语法错误（syntax error）
- 类型错误（type error）
- 声明错误（declaration error）

好的习惯：**edit  - compile - debug**
- 按照报告的顺序逐个修正错误
- 在每修正一个错误后就立即重新编译代码
- 最多是修正了一小部分明显的错误后就重新编译

### 缩进和格式

- 保持一致性
- 牢记：其他可能的程序格式总是存在的
- 一旦选择了一种风格，就要坚持使用

### 文件重定向

```bash
$ addItems <infile >outfile
```

